# TvDatafeed Configuration Example
# Copy this file to .env and fill in your actual values

# ===== Authentication =====
# Your TradingView credentials
TV_USERNAME=your_username_here
TV_PASSWORD=your_password_here

# ===== Two-Factor Authentication (2FA) =====
# If you have 2FA enabled on your TradingView account, you have two options:
#
# Option 1: TOTP Secret Key (RECOMMENDED - automatic code generation)
# Your TOTP secret key allows automatic generation of 2FA codes.
# How to get it:
#   1. Go to TradingView Settings > Security > Two-factor authentication
#   2. When setting up 2FA, click "Can't scan?" to reveal the secret key
#   3. The key looks like: JBSWY3DPEHPK3PXP (base32 encoded)
# Note: If 2FA is already set up, you may need to disable/re-enable it.
TV_TOTP_SECRET=

# Option 2: Manual 2FA code (for one-time use)
# If you can't get the TOTP secret, you can provide a 6-digit code manually
# This code expires quickly, so you'll need to update it each time
TV_2FA_CODE=

# ===== Network Configuration =====
# WebSocket URL (usually no need to change)
TV_WS_URL=wss://data.tradingview.com/socket.io/websocket

# Timeouts (in seconds)
TV_CONNECT_TIMEOUT=10.0
TV_SEND_TIMEOUT=5.0
TV_RECV_TIMEOUT=30.0

# Retry configuration
TV_MAX_RETRIES=3
TV_BASE_RETRY_DELAY=2.0
TV_MAX_RETRY_DELAY=60.0

# Rate limiting
TV_REQUESTS_PER_MINUTE=60

# ===== Data Configuration =====
# Maximum number of bars to fetch in one request (TradingView limit)
TV_MAX_BARS=5000

# Default number of bars if not specified
TV_DEFAULT_BARS=10

# Validate OHLCV data (true/false)
TV_VALIDATE_DATA=true

# How to handle missing volume data (zero, forward, interpolate)
TV_FILL_MISSING_VOLUME=zero

# Default timezone for datetime index
TV_TIMEZONE=UTC

# ===== Threading Configuration (for TvDatafeedLive) =====
# Maximum retry attempts for data fetching
TV_RETRY_LIMIT=50

# Sleep time between retries (seconds)
TV_RETRY_SLEEP=0.1

# Timeout for graceful shutdown (seconds)
TV_SHUTDOWN_TIMEOUT=10.0

# ===== Debug =====
# Enable debug mode (true/false)
TV_DEBUG=false

# Enable verbose logging (true/false)
# verbose=true: Show info, warnings, and errors (development)
# verbose=false: Show only warnings and errors (production)
TV_VERBOSE=true
